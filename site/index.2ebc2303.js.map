{"mappings":"AAAA,MAAMA,EAASC,SAASC,cAAc,UAChCC,EAAMH,EAAOI,WAAW,MAE9BH,SAASI,KAAKC,YAAYN,GAC1BC,SAASI,KAAKE,MAAMC,gBAAkB,QAEtC,MAGMC,EAAaC,OAAOC,iBAC1BX,EAAOY,MAJO,IAISH,EACvBT,EAAOa,OAJQ,GAIUJ,EACzBT,EAAOO,MAAMK,MAAQE,QACrBd,EAAOO,MAAMM,OAASE,OAItB,MAAMC,EAAUhB,EAAOY,MAAQ,EACzBK,EAAUjB,EAAOa,OAAS,EAC1BK,EAAWC,KAAKC,KAAKJ,EAAUA,EAAUC,EAAUA,GA2BzDI,gCA1BSC,EAAQC,GACfF,sBAAsBC,GAEtB,MAAME,EAAWD,EAAO,IAElBE,EAAYtB,EAAIuB,aAAa,EAAG,EAAG1B,EAAOY,MAAOZ,EAAOa,QACxDc,EAASF,EAAUG,KAEzB,IAAK,IAAIC,EAAI,EAAGA,EAAI7B,EAAOY,MAAOiB,IAChC,IAAK,IAAIC,EAAI,EAAGA,EAAI9B,EAAOa,OAAQiB,IAAK,CACtC,IAAIC,EAA6B,GAAxBD,EAAI9B,EAAOY,MAAQiB,GACxBG,EAAKb,KAAKc,IAAIJ,EAAIb,GAClBkB,EAAKf,KAAKc,IAAIH,EAAIb,GAClBkB,GAAcH,EAAKb,KAAKc,IAAIH,EAAIb,KAAaD,EAAUC,GAC3DkB,EAAahB,KAAKC,KAAKY,EAAKA,EAAKE,EAAKA,GAAMhB,EAC5C,IAAIkB,EAAIJ,GAAM,EAAiB,KAAbG,GACdE,EAA0D,IAAnDlB,KAAKmB,OAAOnB,KAAKoB,IAAIH,EAAIA,EAAIZ,GAAY,GAAK,GACzDG,EAAOI,EAAI,GAAKM,EAChBV,EAAOI,EAAI,GAAwD,IAAnDZ,KAAKmB,OAAOnB,KAAKqB,IAAIJ,EAAIA,EAAIZ,GAAY,GAAK,GAC9DG,EAAOI,EAAI,GAAwB,KAAlB,EAAII,GAIzBhC,EAAIsC,aAAahB,EAAW,EAAG","sources":["src/app.js"],"sourcesContent":["const canvas = document.createElement('canvas');\nconst ctx = canvas.getContext('2d');\n\ndocument.body.appendChild(canvas);\ndocument.body.style.backgroundColor = 'black';\n\nconst width = 800;\nconst height = 80;\n\nconst pixelRatio = window.devicePixelRatio;\ncanvas.width = width * pixelRatio;\ncanvas.height = height * pixelRatio;\ncanvas.style.width = width + 'px';\ncanvas.style.height = height + 'px';\n\n//canvas.style.backgroundColor = 'blue';\n\nconst horizon = canvas.width / 2;\nconst yCenter = canvas.height / 2;\nconst diagonal = Math.sqrt(horizon * horizon + yCenter * yCenter);\nfunction animate(time) {\n  requestAnimationFrame(animate);\n\n  const slowTime = time / 1_000;\n\n  const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n  const pixels = imageData.data;\n\n  for (let x = 0; x < canvas.width; x++) {\n    for (let y = 0; y < canvas.height; y++) {\n      let i = (y * canvas.width + x) * 4;\n      let xd = Math.abs(x - horizon);\n      let yd = Math.abs(y - yCenter);\n      let distortion = (xd + Math.abs(y - yCenter)) / (horizon + yCenter);\n      distortion = Math.sqrt(xd * xd + yd * yd) / diagonal;\n      let d = xd * (1 - distortion * 0.0001);\n      let seed = Math.round((Math.cos(d * d + slowTime) + 1) / 2) * 255;\n      pixels[i + 1] = seed;\n      pixels[i + 0] = Math.round((Math.sin(d * d + slowTime) + 1) / 2) * 255\n      pixels[i + 3] = (1 - distortion) * 255;\n    }\n  }\n\n  ctx.putImageData(imageData, 0, 0);\n}\n\nrequestAnimationFrame(animate);\n"],"names":["$c8eaf4acd6fbca2f$var$canvas","document","createElement","$c8eaf4acd6fbca2f$var$ctx","getContext","body","appendChild","style","backgroundColor","$c8eaf4acd6fbca2f$var$pixelRatio","window","devicePixelRatio","width","height","$c8eaf4acd6fbca2f$var$width","$c8eaf4acd6fbca2f$var$height","$c8eaf4acd6fbca2f$var$horizon","$c8eaf4acd6fbca2f$var$yCenter","$c8eaf4acd6fbca2f$var$diagonal","Math","sqrt","requestAnimationFrame","$c8eaf4acd6fbca2f$var$animate","time","slowTime","imageData","getImageData","pixels","data","x","y","i","xd","abs","yd","distortion","d","seed","round","cos","sin","putImageData"],"version":3,"file":"index.2ebc2303.js.map"}