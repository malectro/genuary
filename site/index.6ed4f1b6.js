const e=document.createElement("canvas"),t=e.getContext("2d");document.body.appendChild(e),document.body.style.backgroundColor="black";const a=window.devicePixelRatio;e.width=800*a,e.height=80*a,e.style.width="800px",e.style.height="80px";const n=e.width/2,o=e.height/2,i=Math.sqrt(n*n+o*o);requestAnimationFrame((function a(d){requestAnimationFrame(a);const s=d/1e3,c=t.getImageData(0,0,e.width,e.height),h=c.data;for(let t=0;t<e.width;t++)for(let a=0;a<e.height;a++){let d=4*(a*e.width+t),c=Math.abs(t-n),r=Math.abs(a-o),l=(c+Math.abs(a-o))/(n+o);l=Math.sqrt(c*c+r*r)/i;let m=c*(1-1e-4*l);const w=1-l;h[d+0]=w*Math.round((Math.sin(m*m+s)+1)/2)*255,h[d+1]=w*Math.round((Math.cos(m*m+s)+1)/2)*255,h[d+3]=255}t.putImageData(c,0,0)}));let d=!1;const s=document.createElement("button");s.innerText="Record",document.body.appendChild(s);const c=new MediaRecorder(e.captureStream(30),{mimeType:"video/webm"});let h=[];c.addEventListener("dataavailable",(e=>{h.push(e.data)})),c.addEventListener("stop",(e=>{const t=new Blob(h,{type:""});h=[],window.showSaveFilePicker({suggestedName:"video",types:[{accept:{"video/webm":[".webm"]}}]}).then((async e=>{console.log("hi",e);const a=await e.createWritable();a.write(t),a.close()}),(()=>{}))})),s.addEventListener("click",(()=>{d?(d=!1,c.stop(),s.innerText="Record"):(d=!0,c.start(),s.innerText="Stop")}));
//# sourceMappingURL=index.6ed4f1b6.js.map
